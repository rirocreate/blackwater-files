<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Blackwater Files</title>
<link rel="icon" type="image/png" href="icon.png">
<style>
html, body { margin:0; padding:0; width:100%; height:100%; overflow:hidden; font-family:"Helvetica",sans-serif; background:black; }
.game-container { width:100vw; height:100vh; overflow:hidden; position:relative; }

/* INTRO SCREEN */
#intro-screen {
  position:absolute; top:0; left:0; width:100%; height:100%;
  background:black; color:white; display:flex;
  flex-direction:column; justify-content:center; align-items:center;
  text-align:center; opacity:0; z-index:200;
  animation: intro-fade 1s ease forwards;
  pointer-events:auto;
}
#intro-screen h1 { font-size:28px; margin-bottom:20px; }
#intro-screen p { font-size:16px; margin:6px 0; max-width:80%; }
#intro-screen ul { list-style:none; padding:0; }
#intro-screen ul li { margin:5px 0; }
#start-game-btn {
  font-size:22px; padding:15px 30px; margin-top:20px; border:2px solid grey; border-radius:4px; background-color:black; color:white; cursor:pointer; z-index:210;
  transition: background 0.2s, transform 0.2s;
}
#start-game-btn:hover { background-color:grey; transform:scale(1.05); }
@keyframes intro-fade { 0% {opacity:0; transform:scale(0.95);} 100% {opacity:1; transform:scale(1);} }

/* INTERFACES */
.interface { width:100%; height:100%; position:absolute; top:0; left:100%; transition:left 0.5s ease, opacity 0.5s ease; display:flex; flex-direction:column; overflow-y:auto; padding:0; background-size:cover; opacity:0; }
.interface.active { left:0; opacity:1; }
.nav-arrow { position:absolute; bottom:10px; width:40px; height:40px; opacity:0.8; cursor:pointer; z-index:20; background-size:cover; }
.nav-arrow.left { left:10px; }
.nav-arrow.right { right:10px; }

/* STATUS BAR */
#status-bar { position:absolute; top:0; left:0; width:100%; height:25px; display:flex; justify-content:space-between; align-items:center; padding:0 8px; z-index:100; background:rgba(0,0,0,0.6); }
#status-bar #time { color:white; font-size:12px; }
#status-icons img { display:inline-block; vertical-align:middle; width:18px; height:18px; }

/* PHONE INTERFACE */
#phone-interface { background:url('backgrounds/phone-bg.jpg') no-repeat center/cover; }
#home-screen { display:flex; flex-wrap:wrap; justify-content:space-around; align-content:flex-start; padding:10px; }
.app-icon { width:60px; height:60px; margin:10px; border-radius:15px; cursor:pointer; background-size:cover; }
.app-window { position:absolute; top:25px; left:0; width:100%; height:calc(100% - 25px); display:none; flex-direction:column; overflow-y:auto; padding:10px; z-index:10; border-radius:0; background-size:cover; text-align:center; }
.app-window.active { display:flex; }
.back-btn, .reset-btn { background:#007aff; color:#fff; border:none; padding:8px 12px; border-radius:10px; margin-bottom:10px; cursor:pointer; }

/* MESSAGES */
#chat .message { padding:10px 14px; border-radius:20px; max-width:80%; margin:6px auto; word-wrap:break-word; background:#e0e0ff; opacity:0; transition: opacity 0.5s ease; text-align:center; }

/* BUREAU */
#bureau-interface { background:url('backgrounds/bureau-bg.jpg') no-repeat center/cover; }
.bureau { display:flex; flex-wrap:wrap; justify-content:center; align-items:center; padding:15px; }
.photo { width:100px; height:100px; margin:10px; border:2px solid #ccc; border-radius:8px; cursor:pointer; }

/* ORDINATEUR */
#ordi-interface { background:url('backgrounds/ordi-bg.jpg') no-repeat center/cover; }
.ordinateur { background: rgba(240,240,240,0.9); border-radius:15px; padding:10px; flex:1; overflow-y:auto; text-align:center; }
.window { background:#fff; border:2px solid #666; padding:10px; border-radius:10px; margin:8px 0; cursor:pointer; }

/* ICONS */
.app-icon[data-app="messenger"] { background-image:url('icons/messenger.png'); }
.app-icon[data-app="instafaux"] { background-image:url('icons/instafaux.png'); }
.app-icon[data-app="twitfake"] { background-image:url('icons/twitfake.png'); }
.app-icon[data-app="web"] { background-image:url('icons/web.png'); }
.app-icon[data-app="notes"] { background-image:url('icons/notes.png'); }
.app-icon[data-app="mailfaux"] { background-image:url('icons/mail.png'); }
.app-icon[data-app="calendar"] { background-image:url('icons/calendar.png'); }
.app-icon[data-app="photos"] { background-image:url('icons/photos.png'); }
.app-icon[data-app="mapsfake"] { background-image:url('icons/maps.png'); }
.app-icon[data-app="contacts"] { background-image:url('icons/contacts.png'); }
.app-icon[data-app="todo"] { background-image:url('icons/todo.png'); }
.app-icon[data-app="appstorefake"] { background-image:url('icons/appstore.png'); }
.app-icon[data-app="settings"] { background-image:url('icons/settings.png'); }

/* FL√àCHES */
.nav-arrow.left { background-image:url('icons/left-arrow.png'); }
.nav-arrow.right { background-image:url('icons/right-arrow.png'); }

/* TRANSITIONS */
#day-transition, #mini-game-screen { transition:opacity 1s; }

/* ANIMATIONS */
.app-icon:hover { transform:scale(1.1); transition:transform 0.2s ease; }
</style>
</head>
<body>
<div class="game-container">

<!-- INTRO SCREEN -->
<div id="intro-screen">
  <h1>The Blackwater Files</h1>
  <p>Tu es sur le point d‚Äôentrer dans l‚Äôenqu√™te de Blackwater.</p>
  <p>Objectif : Collecter les indices et comprendre la v√©rit√©.</p>
  <p>Il existe 3 fins possibles :</p>
  <ul>
    <li>Fin R√©veil üïäÔ∏è</li>
    <li>Fin V√©rit√© Totale üî•</li>
    <li>Fin Silence üï≥Ô∏è</li>
  </ul>
  <button id="start-game-btn">INIZIATE</button>
</div>

<div class="nav-arrow left"></div>
<div class="nav-arrow right"></div>

<!-- PHONE INTERFACE -->
<div class="interface" id="phone-interface">
  <div id="status-bar">
    <div id="time">12:00</div>
    <div id="status-icons">
      <img id="signal-icon" src="icons/signal.png">
      <img id="wifi-icon" src="icons/wifi.png">
      <img id="battery-icon" src="icons/battery-full.png">
    </div>
  </div>
  <div id="home-screen">
    <!-- 12 applis -->
    <div class="app-icon" data-app="messenger"></div>
    <div class="app-icon" data-app="instafaux"></div>
    <div class="app-icon" data-app="twitfake"></div>
    <div class="app-icon" data-app="web"></div>
    <div class="app-icon" data-app="notes"></div>
    <div class="app-icon" data-app="mailfaux"></div>
    <div class="app-icon" data-app="calendar"></div>
    <div class="app-icon" data-app="photos"></div>
    <div class="app-icon" data-app="mapsfake"></div>
    <div class="app-icon" data-app="contacts"></div>
    <div class="app-icon" data-app="todo"></div>
    <div class="app-icon" data-app="appstorefake"></div>
    <div class="app-icon" data-app="settings"></div>
  </div>
  <!-- Fen√™tres apps -->
  <div class="app-window" id="messenger"><button class="back-btn">üè† Accueil</button><div id="chat"></div></div>
  <div class="app-window" id="instafaux"><button class="back-btn">üè† Accueil</button><div id="insta-content"></div></div>
  <div class="app-window" id="twitfake"><button class="back-btn">üè† Accueil</button><div id="twit-content"></div></div>
  <div class="app-window" id="web"><button class="back-btn">üè† Accueil</button><div id="web-content"></div></div>
  <div class="app-window" id="notes"><button class="back-btn">üè† Accueil</button><div id="notes-content"></div></div>
  <div class="app-window" id="mailfaux"><button class="back-btn">üè† Accueil</button><div id="mail-content"></div></div>
  <div class="app-window" id="calendar"><button class="back-btn">üè† Accueil</button><div id="calendar-content"></div></div>
  <div class="app-window" id="photos"><button class="back-btn">üè† Accueil</button><div id="photos-content"></div></div>
  <div class="app-window" id="mapsfake"><button class="back-btn">üè† Accueil</button><div id="maps-content"></div></div>
  <div class="app-window" id="contacts"><button class="back-btn">üè† Accueil</button><div id="contacts-content"></div></div>
  <div class="app-window" id="todo"><button class="back-btn">üè† Accueil</button><div id="todo-content"></div></div>
  <div class="app-window" id="appstorefake"><button class="back-btn">üè† Accueil</button><div id="appstore-content"></div></div>
  <div class="app-window" id="settings"><button class="back-btn">üè† Accueil</button><button class="reset-btn">üîÑ Recommencer le jeu</button></div>
</div>

<!-- BUREAU -->
<div class="interface" id="bureau-interface">
  <div class="bureau">
    <h3 style="color:#fff;">Bureau d'ado</h3>
    <div class="photo" onclick="collectFile(); alert('Indice trouv√© !')"><img src="bureau/photo1.jpg" style="width:100px;"></div>
    <div class="photo" onclick="collectSymbol('‚òø')"><img src="bureau/note1.jpg" style="width:100px;"></div>
    <div class="photo" onclick="collectSymbol('üúç')"><img src="bureau/objet1.png" style="width:100px;"></div>
  </div>
</div>

<!-- ORDI -->
<div class="interface" id="ordi-interface">
  <div class="ordinateur">
    <h3>Ordinateur</h3>
    <div class="ordi-content" id="ordi-content">
      <div class="window" onclick="collectFile(); alert('Fichier ouvert !')">
        <h4>Dossier adoption</h4>
        <p>Contenu du fichier Blackwater‚Ä¶</p>
      </div>
    </div>
  </div>
</div>

<audio id="bg-music" loop autoplay>
  <source src="calme.mp3" type="audio/mp3">
</audio>

<script>
// ===== START GAME =====
document.addEventListener("DOMContentLoaded", function() {
  const startBtn = document.getElementById('start-game-btn');
  startBtn.addEventListener('click', () => {
    const intro = document.getElementById('intro-screen');
    intro.style.transition = 'opacity 1s';
    intro.style.opacity = 0;
    setTimeout(() => {
      intro.style.display = 'none';
      const phone = document.getElementById('phone-interface');
      phone.classList.add('active');
      startStory();
    }, 1000);
  });
});

// ===== STORY & MESSAGES =====
let infoCount=0, day=1, storyIndex=0;
const chat=document.getElementById('chat');
const storyInfos=[
  "Prologue‚Ä¶",
  "üì© 23:41 - Evan Cross‚Ä¶",
  "Une photo sombre‚Ä¶",
  "üì© 23:43 - Evan‚Ä¶",
  "üéôÔ∏è Audio transcription‚Ä¶",
  "Respiration rapide‚Ä¶",
  "üìÇ Premier dossier‚Ä¶",
  "üì© 00:02 - Evan‚Ä¶",
  "C‚Äôest votre maison‚Ä¶",
  "If you‚Äôre still reading‚Ä¶"
  // Ici tu peux continuer en ajoutant tous les messages jour 1 √† 100
];
function addMessage(text){
  const div=document.createElement('div'); div.className='message'; div.style.opacity=0; div.textContent=text;
  chat.appendChild(div);
  let op=0;
  const fade=setInterval(()=>{op+=0.05; div.style.opacity=op; if(op>=1) clearInterval(fade);},50);
  infoCount++; if(infoCount%10===0){day++; alert("Changement de jour !"); startMiniGame();}
}
function startStory(){const interval=setInterval(()=>{if(storyIndex<storyInfos.length) addMessage(storyInfos[storyIndex++]); else clearInterval(interval);},4000);}

// ===== MINI GAMES =====
function startMiniGame(){alert("Mini-jeu √† jouer !");}

// ===== COLLECT INDICES =====
function collectSymbol(sym){alert(`üîé Symbole ${sym} trouv√© !`);}
function collectFile(){alert("üìÇ Fichier PC trouv√© !");}
</script>
</body>
</html><script>
// ===== STORY 100 JOURS =====
const jours = {
  1: [
    "Prologue‚Ä¶",
    "üì© 23:41 - Evan Cross : 'Ils ne me cherchent plus‚Ä¶'",
    "Une photo sombre avec un symbole ‚òø‚Ä¶",
    "üì© 23:43 - Evan : 'Blackwater n'√©tait pas un orphelinat‚Ä¶'",
    "üéôÔ∏è Audio transcription : 'Ils nous ont dit qu'on √©tait adopt√©s‚Ä¶'",
    "Respiration rapide‚Ä¶",
    "üìÇ Premier dossier re√ßu : 'Adoption Records'",
    "üì© 00:02 - Evan : 'C‚Äôest votre maison‚Ä¶'",
    "Un objet presque invisible marqu√© ‚òø‚Ä¶",
    "If you‚Äôre still reading‚Ä¶ vous √™tes d√©j√† impliqu√©."
  ],
  2: [
    "Jour 2 : D√©couverte du t√©l√©phone",
    "Un message de Claire Holloway vous guide‚Ä¶",
    "Indices sur la disparition d‚ÄôEvan‚Ä¶",
    "Photo d‚Äôarchive marqu√©e üúç",
    "Mini-jeu : Choisir un chiffre entre 1 et 5 pour d√©verrouiller le dossier",
    "R√©v√©lation d‚Äôun symbole inconnu sur le carnet‚Ä¶",
    "Vous trouvez un email myst√©rieux",
    "Petit article de journal local : 'Incendie √† Blackwater‚Ä¶'",
    "Claire envoie un nouvel indice",
    "Fin du jour 2, pr√©parez-vous pour le mini-jeu"
  ],
  3: [
    "Jour 3 : Bureau d‚Äôado",
    "Exploration du bureau‚Ä¶",
    "Photo trouv√©e avec symbole ‚òø",
    "Mini-jeu : Trouver l‚Äôobjet cach√© sur le bureau",
    "Indice cach√© dans un carnet",
    "Nouvelle notification sur le t√©l√©phone",
    "Email suspect de Margaret Whitman",
    "Une vid√©o √©trange appara√Æt dans l‚Äôapplication Photos",
    "Fin du jour 3",
    "Transition vers le mini-jeu"
  ],
  // ‚Ä¶ continuez de la m√™me mani√®re pour les jours 4 √† 100 ‚Ä¶
  4: ["Messages et indices jour 4‚Ä¶"],
  5: ["Messages et indices jour 5‚Ä¶"],
  6: ["Messages et indices jour 6‚Ä¶"],
  7: ["Messages et indices jour 7‚Ä¶"],
  8: ["Messages et indices jour 8‚Ä¶"],
  9: ["Messages et indices jour 9‚Ä¶"],
  10: ["Messages et indices jour 10‚Ä¶", "Mini-jeu important du jour 10‚Ä¶"],
  11: ["Jour 11‚Ä¶"],
  12: ["Jour 12‚Ä¶"],
  13: ["Jour 13‚Ä¶"],
  14: ["Jour 14‚Ä¶"],
  15: ["Jour 15‚Ä¶"],
  16: ["Jour 16‚Ä¶"],
  17: ["Jour 17‚Ä¶"],
  18: ["Jour 18‚Ä¶"],
  19: ["Jour 19‚Ä¶"],
  20: ["Jour 20‚Ä¶"],
  // ‚Ä¶
  100: ["Jour 100 : R√©v√©lation finale‚Ä¶", "Fin du jeu : choisir votre fin parmi 3 possibles‚Ä¶"]
};

// ===== VARIABLES =====
let currentDay = 1;
let infoCount = 0;
let storyIndex = 0;
const chat = document.getElementById('chat');

// ===== FUNCTIONS =====
function addMessage(text){
  const div = document.createElement('div');
  div.className = 'message';
  div.style.opacity = 0;
  div.textContent = text;
  chat.appendChild(div);
  // apparition progressive
  let op = 0;
  const fade = setInterval(()=>{
    op += 0.05;
    div.style.opacity = op;
    if(op>=1) clearInterval(fade);
  }, 50);

  infoCount++;
  // Passage de jour toutes les 10 infos
  if(infoCount % 10 === 0){
    currentDay++;
    if(currentDay <= 100){
      alert(`Changement de jour ! Jour ${currentDay}`);
      startMiniGame();
    }
  }
}

// ===== LANCER L'HISTOIRE =====
function startStory(){
  if(!jours[currentDay]) return;
  const messages = jours[currentDay];
  let idx = 0;
  const interval = setInterval(()=>{
    if(idx < messages.length){
      addMessage(messages[idx++]);
    } else {
      clearInterval(interval);
    }
  }, 4000); // 4 secondes entre chaque message
}

// ===== MINI-GAMES =====
function startMiniGame(){
  // transition noir 2s
  const overlay = document.createElement('div');
  overlay.style.position='absolute';
  overlay.style.top='0'; overlay.style.left='0';
  overlay.style.width='100%'; overlay.style.height='100%';
  overlay.style.background='black';
  overlay.style.opacity='0';
  overlay.style.zIndex='300';
  document.body.appendChild(overlay);
  let op=0;
  const fadeIn = setInterval(()=>{ op+=0.05; overlay.style.opacity=op; if(op>=1){ clearInterval(fadeIn); setTimeout(runMiniGame,2000); } },50);

  function runMiniGame(){
    // Mini-jeu al√©atoire
    const choix = prompt("Mini-jeu : Choisissez un chiffre entre 1 et 5");
    alert(`Vous avez choisi : ${choix}`);
    const fadeOut = setInterval(()=>{ op-=0.05; overlay.style.opacity=op; if(op<=0){ clearInterval(fadeOut); document.body.removeChild(overlay); startStory(); } },50);
  }
}

// ===== COLLECT INDICES =====
function collectSymbol(sym){alert(`üîé Symbole ${sym} trouv√© !`);}
function collectFile(){alert("üìÇ Fichier PC trouv√© !");}
</script>
