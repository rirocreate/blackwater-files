<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blackwater Files</title>
<style>
body, html {margin:0; padding:0; height:100%; font-family:Arial,sans-serif; background:#000; color:#fff;}
.interface {display:none; width:100%; height:100%; overflow:hidden;}
.interface.active {display:block; text-align:center;}

/* Barre de statut tÃ©lÃ©phone */
#status-bar {display:flex; justify-content:space-between; padding:5px 10px; background:#111; font-size:14px;}

/* Apps tÃ©lÃ©phone */
.apps-container {display:flex; flex-wrap:wrap; gap:15px; justify-content:center; padding:10px;}
.app-button {font-size:30px; width:60px; height:60px; border-radius:15px; border:1px solid #888; background-color:#222; cursor:pointer; color:#fff;}

/* Contenu complet app */
.app-screen {width:100%; height:calc(100% - 50px); background:#111; overflow-y:auto; display:flex; flex-direction:column; align-items:center; padding:10px;}
.app-title {font-size:20px; font-weight:bold; margin:10px 0;}

/* Bureau et ordinateur */
.desk-icons, .computer-icons {display:flex; gap:15px; justify-content:flex-start; padding:10px;}
.desk-app, .computer-app {font-size:25px; width:80px; height:80px; border-radius:10px; border:1px solid #888; background-color:#222; color:#fff; cursor:pointer;}

/* Transition jour */
#transition-jour {position:fixed; top:0; left:0; width:100%; height:100%; background:#000; display:flex; justify-content:center; align-items:center; flex-direction:column; font-size:24px; z-index:1000;}

/* Intro */
#intro {display:none; width:100%; height:100%; background:#000; color:#fff; text-align:center;}
#intro.active {display:flex; justify-content:center; align-items:center; flex-direction:column; padding:20px;}
#intro button {font-size:24px; padding:15px 30px; border:2px solid #888; background:#222; color:#fff; border-radius:8px; cursor:pointer; margin-top:20px;}

/* FlÃ¨ches navigation */
#nav-arrows {position:absolute; bottom:10px; width:100%; display:flex; justify-content:space-between; padding:0 20px; font-size:30px; opacity:0.5;}
#nav-arrows span {cursor:pointer; user-select:none;}
</style>
</head>
<body>

<!-- Ã‰cran dâ€™intro -->
<div id="intro" class="interface active">
  <h1>ğŸ•¯ï¸ Blackwater Files ğŸ•¯ï¸</h1>
  <div id="intro-messages"></div>
  <button id="iniziateBtn">INIZIATE</button>
</div>

<!-- TÃ©lÃ©phone -->
<div id="phone" class="interface">
  <div id="status-bar">
    <span id="time">12:00</span>
    <span id="network">ğŸ“¶</span>
    <span id="battery">ğŸ”‹100%</span>
  </div>
  <div id="phone-apps" class="apps-container">
    <button class="app-button" onclick="openApp('messages')">ğŸ’¬</button>
    <button class="app-button" onclick="openApp('photos')">ğŸ“·</button>
    <button class="app-button" onclick="openApp('mail')">âœ‰ï¸</button>
    <button class="app-button" onclick="openApp('calendar')">ğŸ“…</button>
    <button class="app-button" onclick="openApp('notes')">ğŸ“</button>
    <button class="app-button" onclick="openApp('social')">ğŸ“°</button>
    <button class="app-button" onclick="openApp('music')">ğŸµ</button>
    <button class="app-button" onclick="openApp('maps')">ğŸ—ºï¸</button>
    <button class="app-button" onclick="openApp('files')">ğŸ“‚</button>
    <button class="app-button" onclick="openApp('camera')">ğŸ“¸</button>
    <button class="app-button" onclick="openApp('browser')">ğŸŒ</button>
    <button class="app-button" onclick="openApp('settings')">âš™ï¸</button>
  </div>
  <div id="app-container" class="app-screen"></div>
</div>

<!-- Bureau -->
<div id="desk" class="interface">
  <div class="desk-icons">
    <button class="desk-app" onclick="openDeskApp('journal')">ğŸ“’ Journal</button>
    <button class="desk-app" onclick="openDeskApp('clues')">ğŸ” Indices</button>
    <button class="desk-app" onclick="openDeskApp('files')">ğŸ“‚ Fichiers</button>
  </div>
  <div id="desk-content" class="app-screen"></div>
</div>

<!-- Ordinateur -->
<div id="computer" class="interface">
  <div class="computer-icons">
    <button class="computer-app" onclick="openComputerApp('browser')">ğŸŒ</button>
    <button class="computer-app" onclick="openComputerApp('email')">âœ‰ï¸</button>
    <button class="computer-app" onclick="openComputerApp('files')">ğŸ“‚</button>
  </div>
  <div id="computer-content" class="app-screen"></div>
</div>

<!-- FlÃ¨ches navigation -->
<div id="nav-arrows">
  <span id="prev-arrow">â¬…ï¸</span>
  <span id="next-arrow">â¡ï¸</span>
</div>

<!-- Transition jour -->
<div id="transition-jour" style="display:none;"></div>

<script>
/* --- INTRO MESSAGES --- */
const messagesIntro=[
  "Bienvenue dans lâ€™enquÃªte Blackwater Files.",
  "Vous Ãªtes sur le point de dÃ©couvrir des secrets cachÃ©s.",
  "Collectez les indices et rÃ©solvez les mini-jeux pour avancer.",
  "âš ï¸ Attention : le jeu comporte 3 fins diffÃ©rentes !"
];
const introMessagesDiv=document.getElementById('intro-messages');
function afficherMessagesIntro(){
  introMessagesDiv.innerHTML="";
  let i=0;
  function afficherProchain(){
    if(i<messagesIntro.length){
      const p=document.createElement('p');
      p.textContent=messagesIntro[i];
      introMessagesDiv.appendChild(p);
      i++;
      setTimeout(afficherProchain,4000);
    }
  }
  afficherProchain();
}

/* --- LANCER LE JEU --- */
const intro=document.getElementById('intro');
document.getElementById('iniziateBtn').addEventListener('click',()=>{
  intro.classList.remove('active');
  showInterface('phone');
  afficherTransitionJour();
  afficherMessagesIntro();
});

/* --- INTERFACES --- */
let currentInterface='phone';
function showInterface(name){
  document.querySelectorAll('.interface').forEach(d=>d.classList.remove('active'));
  document.getElementById(name).classList.add('active');
  currentInterface=name;
}

/* --- FLÃˆCHES NAVIGATION --- */
const prevArrow=document.getElementById('prev-arrow');
const nextArrow=document.getElementById('next-arrow');
let jourTerminÃ©=false;

prevArrow.addEventListener('click',()=>{
  if(!jourTerminÃ©){alert("Finissez les indices avant de changer d'interface !"); return;}
  if(currentInterface==='computer') showInterface('desk');
  else if(currentInterface==='desk') showInterface('phone');
});

nextArrow.addEventListener('click',()=>{
  if(!jourTerminÃ©){alert("Finissez les indices avant de changer d'interface !"); return;}
  if(currentInterface==='phone') showInterface('desk');
  else if(currentInterface==='desk') showInterface('computer');
});

/* --- MINI-JEUX --- */
const miniJeux=[
  function jeuSymboles(){alert("Mini-jeu symboles Ã  rÃ©soudre");},
  function jeuPuzzle(){alert("Mini-jeu puzzle image");},
  function jeuSequence(){alert("Mini-jeu sÃ©quence Ã  mÃ©moriser");},
  function jeuChiffreHasard(){alert("Mini-jeu choisir un chiffre");},
  function jeuDecode(){alert("Mini-jeu dÃ©chiffrage code");},
  function jeuDifferences(){alert("Mini-jeu diffÃ©rences images");},
  function jeuMemoire(){alert("Mini-jeu mÃ©moire")}
];
function lancerMiniJeu(){const i=Math.floor(Math.random()*miniJeux.length);miniJeux[i]();afficherJourActuel();}

/* --- JOUR ET INDICES --- */
let jourActuel=1;
let indicesCollectes=0;
const indicesTotal=10;
function collecterIndice(){indicesCollectes++; if(indicesCollectes>=indicesTotal){finirJour();}}
function finirJour(){jourTerminÃ©=true; afficherTransitionJour();}
function afficherTransitionJour(){
  const overlay=document.getElementById('transition-jour');
  overlay.style.display='flex';
  overlay.innerHTML=`<h2>Jour ${jourActuel}</h2><p>PrÃ©parez-vous pour les prochaines enquÃªtes</p>`;
  setTimeout(()=>{
    overlay.style.display='none';
    jourActuel++;
    jourTerminÃ©=false;
    indicesCollectes=0;
  },2000);
}
function afficherJourActuel(){console.log("Jour "+jourActuel);}

/* --- APPS TÃ‰LÃ‰PHONE INTERACTIVES --- */
function openApp(app){
  const container=document.getElementById('app-container');
  container.innerHTML=""; 
  const title=document.createElement('div');
  title.className="app-title";
  title.textContent=app.toUpperCase();
  container.appendChild(title);
  const content=document.createElement('div');
  content.style.flex="1";
  content.style.width="100%";
  content.style.textAlign="center";
  content.style.padding="10px";

  // Contenu interactif pour chaque app
  if(app==='messages'){
    const messages=[
      "Evan: Ils ne nous ont jamais laissÃ©s partir...",
      "Claire: Tout est surveillÃ©, sois prudent.",
      "Indice cachÃ©: â˜¿",
      "Daniel: Ne fais confiance Ã  personne."
    ];
    messages.forEach(msg=>{
      const p=document.createElement('p');
      p.textContent=msg;
      p.style.cursor="pointer";
      p.addEventListener('click',()=>{
        if(msg.includes("Indice") || msg.includes("â˜¿")){
          if(indicesCollectes<indicesTotal){
            indicesCollectes++;
            p.style.color="green";
            alert("Indice collectÃ© ! ("+indicesCollectes+"/"+indicesTotal+")");
            if(indicesCollectes>=indicesTotal) finirJour();
          }
        }
      });
      content.appendChild(p);
    });
  } else if(app==='photos'){
    for(let i=1;i<=3;i++){
      const img=document.createElement('img');
      img.src="https://via.placeholder.com/200";
      img.style.margin="10px";
      img.style.cursor="pointer";
      img.addEventListener('click',()=>{
        if(indicesCollectes<indicesTotal){
          indicesCollectes++;
          img.style.border="2px solid green";
          alert("Indice photo collectÃ© ! ("+indicesCollectes+"/"+indicesTotal+")");
          if(indicesCollectes>=indicesTotal) finirJour();
        }
      });
      content.appendChild(img);
    }
  } else {
    content.innerHTML=`<p>Contenu de l'app ${app}</p><p>Cliquez sur les Ã©lÃ©ments pour collecter des indices si disponibles.</p>`;
  }
  container.appendChild(content);
}

/* --- BUREAU ET ORDINATEUR --- */
function openDeskApp(app){document.getElementById('desk-content').innerHTML=`<div class="app-title">${app.toUpperCase()}</div><p>Contenu du bureau interactif pour ${app}</p>`;}
function openComputerApp(app){document.getElementById('computer-content').innerHTML=`<div class="app-title">${app.toUpperCase()}</div><p>Contenu de l'ordinateur interactif pour ${app}</p>`;}

/* --- BASE DES 100 JOURS --- */
const jours={};
for(let i=1;i<=100;i++){jours[i]=[`Jour ${i} : message principal`, `Mini-jeu : rÃ©soudre un indice`];}
</script>
</body>
</html>
