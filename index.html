<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>The Blackwater Files</title>
<style>
/* ===== RESET ===== */
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"SF Pro",sans-serif}
html,body{width:100%;height:100%;background:#000;overflow:hidden;color:#fff;}
.hidden{display:none !important;}
.fullscreen{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;}
.centerText{text-align:center;font-size:1.2rem;margin-bottom:30px;line-height:1.4;}
/* ===== INTRO ===== */
.introText{max-width:85%;text-align:center;font-size:1.1rem;margin-bottom:40px;opacity:0;transition:opacity .3s;}
.iniziateBtn{padding:15px 35px;background:#444;border:none;border-radius:10px;color:#fff;font-size:1.2rem;cursor:pointer;}
/* ===== START DAY ===== */
.startDayBtn{padding:15px 35px;background:#25a244;border:none;border-radius:10px;color:#fff;font-size:1.2rem;cursor:pointer;}
/* ===== DAY LABEL ===== */
.dayLabel{position:absolute;top:40%;width:100%;text-align:center;font-size:2rem;letter-spacing:2px;animation:fadeDay 1.5s ease-out;}
@keyframes fadeDay{0%{opacity:0;transform:translateY(20px);}50%{opacity:1;}100%{opacity:0;transform:translateY(-20px);}}
/* ===== STATUS BAR ===== */
.statusBar{position:absolute;top:0;width:100%;padding:10px 15px;display:flex;justify-content:space-between;font-size:0.9rem;letter-spacing:0.5px;}
.statusIcons{display:flex;gap:10px;align-items:center;}
.sigBar{width:18px;height:14px;background:linear-gradient(90deg,#fff 25%,transparent 25%) 0 0/4px 100%,linear-gradient(90deg,#fff 25%,transparent 25%) 5px 3px/4px 100%,linear-gradient(90deg,#fff 25%,transparent 25%) 10px 6px/4px 100%,linear-gradient(90deg,#fff 25%,transparent 25%) 15px 9px/4px 100%;background-repeat:no-repeat;}
.wifiIcon{width:20px;height:12px;border:2px solid #fff;border-top:none;border-radius:0 0 12px 12px;position:relative;}
.wifiIcon:after{content:"";position:absolute;bottom:-5px;left:7px;width:6px;height:6px;background:#fff;border-radius:50%;}
.batteryIcon{width:22px;height:10px;border:2px solid #fff;border-radius:3px;position:relative;}
.batteryIcon:after{content:"";position:absolute;right:-4px;top:2px;width:3px;height:6px;background:#fff;border-radius:1px;}
/* ===== APP GRID ===== */
.appGrid{margin-top:70px;width:100%;padding:20px;display:grid;grid-template-columns:repeat(3,1fr);row-gap:35px;text-align:center;color:#fff;}
.appIcon{display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;}
.appIcon span{width:60px;height:60px;background:#222;border-radius:18px;display:flex;justify-content:center;align-items:center;}
/* ===== IOS MONOCHROME ICONS ===== */
.icon-msg::before,.icon-user::before,.icon-photo::before,.icon-note::before,.icon-web::before,.icon-mail::before,.icon-audio::before,.icon-map::before,.icon-hashtag::before,.icon-cam::before,.icon-folder::before,.icon-cog::before,.icon-phone::before,.icon-desk::before,.icon-pc::before{content:"";width:28px;height:28px;background-size:cover;}
.icon-msg::before{background-image:url('icons/msg.svg');}.icon-user::before{background-image:url('icons/user.svg');}.icon-photo::before{background-image:url('icons/photo.svg');}.icon-note::before{background-image:url('icons/note.svg');}.icon-web::before{background-image:url('icons/web.svg');}.icon-mail::before{background-image:url('icons/mail.svg');}.icon-audio::before{background-image:url('icons/audio.svg');}.icon-map::before{background-image:url('icons/map.svg');}.icon-hashtag::before{background-image:url('icons/social.svg');}.icon-cam::before{background-image:url('icons/camera.svg');}.icon-folder::before{background-image:url('icons/folder.svg');}.icon-cog::before{background-image:url('icons/settings.svg');}.icon-phone::before{background-image:url('icons/phone.svg');}.icon-desk::before{background-image:url('icons/desk.svg');}.icon-pc::before{background-image:url('icons/pc.svg');}
/* ===== DESK & COMPUTER ===== */
.deskBg,.computerBg{width:100%;height:100%;object-fit:cover;}
.deskHint,.computerData{position:absolute;bottom:20px;width:100%;padding:15px;color:#fff;text-shadow:1px 1px 3px black;}
/* ===== BOTTOM MENU ===== */
.bottomMenu{position:absolute;bottom:0;width:100%;background:#111;border-top:1px solid #333;display:flex;justify-content:space-around;padding:10px 0;}
.menuBtn{color:#fff;text-align:center;font-size:0.75rem;cursor:pointer;}
.menuBtn span{width:28px;height:28px;background:#1b1b1e;border-radius:10px;display:flex;margin:0 auto 4px auto;}
/* ===== APP WINDOW ===== */
.appWindow{position:absolute;top:0;left:0;width:100%;height:100%;background:#121212;color:#fff;padding-top:60px;}
#appContent{padding:20px;font-size:1.1rem;}
.closeApp{position:absolute;top:15px;right:15px;padding:6px 15px;background:#333;border:none;border-radius:8px;color:#fff;cursor:pointer;}
</style>
</head>
<body>

<!-- INTRO -->
<div id="introScreen" class="fullscreen intro">
  <div class="introText" id="introText"></div>
  <button id="iniziateBtn" class="iniziateBtn">INIZIATE</button>
</div>

<!-- START DAY -->
<div id="startDayScreen" class="fullscreen hidden">
  <div class="centerText">Pr√™t √† commencer ?</div>
  <button id="startDayBtn" class="startDayBtn">Commencer Jour 1</button>
</div>

<!-- DAY LABEL -->
<div id="dayLabel" class="dayLabel hidden"></div>

<!-- TELEPHONE -->
<div id="phoneScreen" class="fullscreen hidden">
  <div class="statusBar">
    <span id="statusTime">21:17</span>
    <span class="statusIcons">
      <span class="sigBar"></span>
      <span class="wifiIcon"></span>
      <span class="batteryIcon"></span>
    </span>
  </div>
  <div class="appGrid">
    <div class="appIcon" data-app="messages"><span class="icon-msg"></span><p>Messages</p></div>
    <div class="appIcon" data-app="contacts"><span class="icon-user"></span><p>Contacts</p></div>
    <div class="appIcon" data-app="gallery"><span class="icon-photo"></span><p>Photos</p></div>
    <div class="appIcon" data-app="notes"><span class="icon-note"></span><p>Notes</p></div>
    <div class="appIcon" data-app="browser"><span class="icon-web"></span><p>Navigateur</p></div>
    <div class="appIcon" data-app="mail"><span class="icon-mail"></span><p>Mail</p></div>
    <div class="appIcon" data-app="audio"><span class="icon-audio"></span><p>Audio</p></div>
    <div class="appIcon" data-app="map"><span class="icon-map"></span><p>Carte</p></div>
    <div class="appIcon" data-app="social"><span class="icon-hashtag"></span><p>R√©seau</p></div>
    <div class="appIcon" data-app="camera"><span class="icon-cam"></span><p>Cam√©ra</p></div>
    <div class="appIcon" data-app="folder"><span class="icon-folder"></span><p>Dossiers</p></div>
    <div class="appIcon" data-app="settings"><span class="icon-cog"></span><p>R√©glages</p></div>
  </div>
</div>

<!-- BUREAU -->
<div id="deskScreen" class="fullscreen hidden">
  <img src="assets/desk-bg.jpg" class="deskBg">
  <div class="deskHint" id="deskHints"></div>
</div>

<!-- ORDINATEUR -->
<div id="computerScreen" class="fullscreen hidden">
  <img src="assets/computer-bg.jpg" class="computerBg">
  <div id="computerData" class="computerData"></div>
</div>

<!-- BOTTOM MENU -->
<div id="bottomMenu" class="bottomMenu hidden">
  <div class="menuBtn" data-target="phoneScreen"><span class="icon-phone"></span><p>T√©l√©phone</p></div>
  <div class="menuBtn" data-target="deskScreen"><span class="icon-desk"></span><p>Bureau</p></div>
  <div class="menuBtn" data-target="computerScreen"><span class="icon-pc"></span><p>Ordinateur</p></div>
</div>

<!-- APP WINDOW -->
<div id="appWindow" class="appWindow hidden">
  <div id="appContent"></div>
  <button id="closeApp" class="closeApp">Fermer</button>
</div>

<script>
// ====== LOGIQUE JS COMPLET ======

// Variables globales
let currentDay = 1;
let maxDays = 100;
let introStep = 0;

const introTexts = [
"Bienvenue dans *The Blackwater Files*.",
"Tu t‚Äôappr√™tes √† mener une enqu√™te √† travers un faux iPhone.",
"Tu devras fouiller les applications, trouver des indices‚Ä¶",
"‚Ä¶r√©soudre des mini-jeux‚Ä¶",
"‚Ä¶et d√©couvrir la v√©rit√© parmi les 3 fins possibles.",
"Bonne chance."
];

// Show / Hide
function show(id){document.getElementById(id).classList.remove("hidden");}
function hide(id){document.getElementById(id).classList.add("hidden");}

// Fade intro
function fadeInIntro(){const t=document.querySelector(".introText");t.style.opacity=0;setTimeout(()=>{t.style.opacity=1;},50);}

// Intro automatique
function startIntro(){
  hide("phoneScreen");show("introScreen");
  const textBox=document.querySelector(".introText");
  introStep=0;textBox.innerHTML=introTexts[introStep];fadeInIntro();
  const loop=setInterval(()=>{
    introStep++;
    if(introStep>=introTexts.length){clearInterval(loop);show("iniziateBtn");return;}
    textBox.innerHTML=introTexts[introStep];fadeInIntro();
  },4000);
}

// Iniziate
document.getElementById("iniziateBtn").onclick=function(){hide("introScreen");show("startDayScreen");};

// Start day
document.getElementById("startDayBtn").onclick=function(){hide("startDayScreen");show("phoneScreen");show("bottomMenu");document.getElementById("dayLabel").innerText="Jour "+currentDay;show("dayLabel");setTimeout(()=>hide("dayLabel"),1500);};

// App clicks
document.querySelectorAll(".appIcon").forEach(a=>{a.onclick=()=>{show("appWindow");document.getElementById("appContent").innerHTML="<h2>"+a.dataset.app+"</h2><p>Contenu interactif ici‚Ä¶</p>";};});
document.getElementById("closeApp").onclick=()=>{hide("appWindow");};

// Bottom menu
document.querySelectorAll(".menuBtn").forEach(b=>{b.onclick=()=>{hide("phoneScreen");hide("deskScreen");hide("computerScreen");show(b.dataset.target);};});

// Lancement
window.onload=startIntro;
</script>

</body>
</html>
const appsIndices = {
  messages: [
    {text: "Ils disent que c'est juste des r√™ves‚Ä¶ ‚òø", found:false},
    {text: "Evan m‚Äôa dit de regarder les carnets‚Ä¶ ‚òø", found:false},
    {text: "Dernier message: 'They are watching‚Ä¶' ‚òø", found:false}
  ],
  social: [
    {text: "Post : #Blackwater mysterieux‚Ä¶ ‚òø", found:false},
    {text: "Photo floue du bureau de Claire üúç", found:false},
    {text: "Tweet crypt√© : üúî", found:false}
  ],
  notes: [
    {text: "Note : 'Ne pas oublier le symbole üú®'", found:false},
    {text: "Journal : 'Ils savent que je me souviens ‚òø'", found:false},
    {text: "Carnet fragment√©, page 3 üúç", found:false}
  ],
  photos: [
    {text: "Photo d‚Äôun carnet jauni ‚òø", found:false},
    {text: "Photo de groupe, coin cach√© üúç", found:false},
    {text: "Photo scell√©e, montre arr√™t√©e üú®", found:false}
  ],
  mail: [
    {text: "Mail : 'Arr√™te de chercher‚Ä¶ ‚òø'", found:false},
    {text: "Mail avec pi√®ce jointe : üúî", found:false},
    {text: "Mail crypt√©, destinataire inconnu üúç", found:false}
  ]
};

let collectedIndices = 0;
const maxPerDay = 10;

function openApp(appName){
    hide("phoneScreen");
    show("appWindow");

    let content = `<h2>${appName}</h2>`;
    const appData = appsIndices[appName];
    if(!appData) content += "<p>Pas de contenu pour cette app.</p>";

    appData.forEach((item, index)=>{
        if(!item.found){
            content += `<div class="indexItem" onclick="collectIndex('${appName}',${index})">${item.text}</div>`;
        } else {
            content += `<div class="indexFound">${item.text}</div>`;
        }
    });

    document.getElementById("appContent").innerHTML = content;
}

function collectIndex(app, index){
    const item = appsIndices[app][index];
    if(item.found) return;
    item.found = true;
    collectedIndices++;

    alert("Indice r√©cup√©r√© ! ("+collectedIndices+"/"+maxPerDay+")");

    if(collectedIndices>=maxPerDay){
        alert("Tu as trouv√© 10 indices ! Mini-jeu √† venir.");
        collectedIndices = 0;
        endDay(); // passe au mini-jeu ou jour suivant
    }

    openApp(app); // recharge l'app pour mettre √† jour les indices
}

document.getElementById("closeApp").onclick=function(){
    hide("appWindow");
    show("phoneScreen");
};
